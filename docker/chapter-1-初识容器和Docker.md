### 初识容器和 Docker
传统看来, 虚拟化既可以通过硬件模拟来实现, 也可以通过操作系统软件来实现; 而容器技术则是更为优雅, 它充分利用了操作系统本身已有的机制和特性, 可以实现远超传统虚拟机的轻量级虚拟化

#### 什么是 Docker
##### Docker 开源项目的背景
Docker 的构想是要实现 "Build, Ship and Run Any App, Anywhere", Docker 为应用的开发, 运行和部署提供了 "一站式" 的解决方案
##### Linux 容器技术 --- 巨人的肩膀
容器技术: "容器有效地将由单个操作系统管理的资源划分到孤立的组中, 以更好地在孤立的组之间平衡有冲突的资源使用需求"; 与虚拟化相比, 这样即部需要指令级模拟, 也不需要即时编译, 容器可以在核心 CPU 本地运行指令, 而不需要任何专门的解释机制; 此外, 也避免了准虚拟化和系统调用替换中的复杂性
##### 从 Linux 容器到 Docker
Docker 提供了各种容器管理工具, 可以让用户无需关注底层的操作, 可以更简单明了的管理和使用容器; Docker 通过引入分层文件系统构建和高效的镜像机制, 降低了迁移难度; 可将 Docker 容器理解为一种轻量级的沙盒 (sandbox)

#### 为什么要使用 Docker
##### Docker 容器虚拟化的好处
TODO
##### Docker 在开发和运维中的优势
- 更快速的交付和部署
- 更高效的资源利用
- 更轻松的迁移和扩展
- 更简单的更新管理

##### Docker 与虚拟机比较
- Docker 容器很快, 启动和停止可以在秒级实现
- Docker 容器对系统资源需求很少
- Docker 通过类似 Git 设计理念的操作来方便用户获取, 分发和更新应用镜像, 存储复用, 增量更新
- Docker 通过 Dockerfile 支持灵活的自动化创建和部署机制

Docker 容器技术与传统虚拟机技术的比较

| 特性 | 容器 | 虚拟机 |
| :--- | :--- | :--- |
| 启动速度 | 秒级 | 分钟级 |
| 性能 | 接近原生 | 较弱 |
| 内存代价 | 很小 | 较多 |
| 硬盘使用 | 一般为 MB | 一般为 GB |
| 运行密度 | 单机支持上千容器 | 一般几十个 |
| 隔离性 | 安全隔离 | 完全隔离 |
| 迁移性 | 优秀 | 一般 |

#### Docker 与虚拟化
虚拟化是一种资源管理技术, 是将计算机的各种实体资源, 如服务器, 网络, 内存以及存储等, 予以抽象, 转换后呈现出来, 打破实体结构间的不可切割的障碍, 使用户可以比原本的组态更好的方式来引用这些资源; 基于硬件的虚拟化建委少见, 基于软件的虚拟机可划分为以下几个子类
- 完全虚拟化
- 硬件辅助虚拟化
- 部分虚拟化
- 准虚拟化
- 操作系统级虚拟化

Docker 与其他容器技术都属于操作系统虚拟化的这个范畴, 操作系统虚拟化最大的特点就是不需要额外的 supervisor 支持; Docker 和常见的虚拟化方式不同之处如下
```
 ------------------
 |    应用程序     |
 ------------------            -------------------
 |   运行时环境    |            |     应用程序     |
 ------------------            -------------------
 |  虚拟机操作系统 |            |    运行时环境    |
 ------------------            ------------------
 | 虚拟机管理程序  |            |  Docker 容器支持 |
 -----------------             ------------------
 |  宿主机操作系统 |            |  宿主机操作系统   |
 -----------------             -------------------
 |    硬件层      |            |      硬件层      |
 -----------------             -------------------
  传统的虚拟化方式                Docker 虚拟化方式
```
传统凡是是在硬件层面实现虚拟化, 需要有额外的虚拟机管理应用和虚拟机操作系统层; Docker 容器是在操作系统层面上实现虚拟化, 直接复用本地主机的操作系统, 因此更加轻量级
