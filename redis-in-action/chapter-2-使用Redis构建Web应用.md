### 使用 Redis 构建 Web 应用
一个 Web 服务器对请求进行响应的典型步骤如下
- 服务器对客户端发来的请求 (request) 进行解析
- 请求被转发给一个预定义的处理器 (handler)
- 处理器可能会从数据库中取出数据
- 处理器根据取出的数据对模板 (template) 进行渲染 (render)
- 处理器向客户端返回渲染后的内容作为对请求的响应 (response)

#### 登录和 cookie 缓存
对于用户登录的 cookie, 有两种常见的方法可以将登录信息存储在 cookie 里面: 一种是签名 (signed) cookie, 另一种是令牌 (token) cookie  
签名 cookie 通常会存储用户名, 可能还有用户 ID, 用户最后一次成功登录的时间, 以及网站认为有用的信息等, 除此之外签名 cookie 还包含有一个签名, 服务器可以使用这个签名来验证浏览器发送的信息是否未经改动  
令牌 cookie 会在 cookie 里存储一串随机字符串作为令牌, 服务器可以根据令牌在数据库中查找令牌的拥有者   

| cookie 类型 | 优点 | 缺点 |
| :--- | :--- | :--- |
| 签名 cookie | 验证 cookie 所需的一切信息都存储在 cookie 里, cookie 可以包含额外的信息, 并且对这些信息进行签名也是容易的 | 正确的处理签名很难, 很容易忘记对数据进行签名, 或者忘记验证数据的签名, 从而造成安全漏洞 |
| 令牌 token | 添加信息非常容易, cookie 的体积非常小, 因此移动终端和速度较慢的客户端可以更快的发送请求 | 需要在服务器中存储跟多的信息, 如果使用关系数据库, 那么载入和存储 cookie 的代价可能会很高 |

TODO
